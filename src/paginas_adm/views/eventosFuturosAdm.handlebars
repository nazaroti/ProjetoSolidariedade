<head>
    <link rel="stylesheet" href="/css/eventosFuturosAdm.css">
</head>

<body>
    <section class="upcoming-events-section" id="event-request-section">
        <div class="section-title" id="upcoming-events-title">
            <h2>Eventos Futuros</h2>
        </div>
        <div class="event-cards-container" id="event-cards-container">
            {{#each upcomingEvents}}
            <div class="event-card" id="upcoming-events-card">
                <div class="event-card-content">
                    <h3 class="event-card-title">ğŸˆ{{Nome}}</h3>
                    <div class="event-card-info-container">
                        <div class="event-card-info-column">
                            <p><strong>ğŸ“…Data:</strong> {{reverseDate Data}}</p>
                            <p><strong>ğŸ•’HorÃ¡rio:</strong> {{removeSeconds Horario}}</p>
                            <p><strong>ğŸ—ºï¸Local:</strong> {{Local}}</p>
                        </div>
                        <div class="event-card-info-column">
                            <p><strong>â³DuraÃ§Ã£o:</strong> {{Duracao}}</p>
                            <p><strong>ğŸ‘¥Vagas:</strong> {{Num_Vagas}}</p>
                            <p><strong>ğŸ™‹ResponsÃ¡vel:</strong> {{Nome_Responsavel}}</p>
                        </div>
                    </div>
                    <p class="event-card-description"><strong>DescriÃ§Ã£o:</strong> {{Descricao}}</p>
                </div>
                <div class="event-card-buttons">
                    <form>
                        <button class="event-card-button reject" name="reject" value="delete"
                            onclick="showModal(event, this.value, {{ID_Evento}})">Excluir</button>
                    </form>
                    <form>
                        <button class="event-card-button accept" name="approve" value="edit"
                            onclick="showModalEdit(event, {{ID_Evento}}, '{{json this}}')">Editar</button>
                    </form>
                </div>
            </div>
            {{/each}}
        </div>
    </section>

    <div class="confirmation">
        <div class="modal-overlay" id="modal">
            <div class="modal-content">
                <form id="modal-form" action="/deleteEvent?_method=DELETE" method="POST">
                    <h2 class="modal-title" id="modal-title"></h2>
                    <input type="hidden" name="event_id" id="Event_id" value="" />
                    <input type="hidden" name="confirm" id="confirm" value="" />
                    <button type="button" onclick="closeModal('modal')"
                        class="event-card-button reject cancel">Cancelar</button>
                    <button type="submit" class="event-card-button accept excluir">Excluir</button>
                </form>
            </div>
        </div>
    </div>

    <div class="confirmation">
        <div class="modal-overlay" id="modal-edit">
            <div class="modal-content">
                <form id="edit-form" action="/editData?_method=PUT" method="POST">
                    <h2 id="modal-title">Atualizar Evento</h2>

                    <!-- Campos ocultos para ID e confirmaÃ§Ã£o -->
                    <input type="hidden" name="event_ID" id="event_ID" value="" />
                    <input type="hidden" name="confirmation" id="confirmation" value="" />

                    <!-- Nome do Evento -->
                    <label for="event_name">ğŸˆNome do Evento:</label>
                    <input type="text" name="event_name" id="event_name" required aria-required="true" />

                    <!-- DescriÃ§Ã£o -->
                    <label for="event_description">ğŸ“DescriÃ§Ã£o:</label>
                    <textarea name="event_description" id="event_description" required aria-required="true"></textarea>

                    <!-- Status -->
                    <label for="event_status">ğŸŸ¡Status:</label>
                    <select name="event_status" id="event_status" required aria-required="true">
                        <option value="em analise">Em AnÃ¡lise</option>
                        <option value="aprovado">Aprovado</option>
                        <option value="reprovado">Reprovado</option>
                    </select>

                    <!-- Data -->
                    <label for="event_date">ğŸ—“ï¸Data:</label>
                    <input type="date" name="event_date" id="event_date" required aria-required="true" />

                    <!-- HorÃ¡rio -->
                    <label for="event_time">ğŸ•’HorÃ¡rio:</label>
                    <input type="time" name="event_time" id="event_time" required aria-required="true" />

                    <!-- NÃºmero de Vagas -->
                    <label for="event_slots">ğŸ§‘â€ğŸ¤â€ğŸ§‘NÃºmero de Vagas:</label>
                    <input type="number" name="event_slots" id="event_slots" required aria-required="true" />

                    <!-- Local -->
                    <label for="event_location">ğŸ“Local:</label>
                    <input type="text" name="event_location" id="event_location" required aria-required="true" />

                    <!-- DuraÃ§Ã£o -->
                    <label for="event_duration">â³DuraÃ§Ã£o:</label>
                    <input type="time" name="event_duration" id="event_duration" required aria-required="true" />

                    <!-- Nome do ResponsÃ¡vel -->
                    <label for="event_responsible">ğŸ™‹Nome do ResponsÃ¡vel:</label>
                    <input type="text" name="event_responsible" id="event_responsible" required aria-required="true" />

                    <!-- BotÃµes -->
                    <div class="modal-buttons">
                        <button type="button" onclick="closeModal('modal-edit')"
                            class="button cancel">Fechar</button>
                        <button type="submit" class="button confirm">Confirmar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <script src="/js/eventosFuturosAdm.js"></script>
</body>

